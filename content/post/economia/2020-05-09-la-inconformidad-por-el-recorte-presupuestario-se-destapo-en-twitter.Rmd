---
title: La inconformidad por el recorte presupuestario se destapó en Twitter
authors: 
  - Alonso Quijano
date: '2020-05-09'
slug: 2020-05-09-inconformidad-recorte-presupuestario-twitter
categories:
  - Economía
  - Educación
tags:
  - Twitter
description: 'En esta publicación utilizamos ciencia de datos para analizar la reacción en Twitter que generó el recorte presupuestario a la educación. Nos preguntamos cuáles fueron las cuentas que generaron más tendencia y cuáles fueron las más mencionadas en los tuits. Asimimo, Resumimos en una nube de palabras más de dicisiete mil tuits.'
thumbnail: '/post/economia/2020-05-09-la-inconformidad-por-el-recorte-presupuestario-se-destapo-en-twitter.png'
images: 
  - 'https://elquantificador.org/post/economia/2020-05-09-la-inconformidad-por-el-recorte-presupuestario-se-destapo-en-twitter.png'
hidden: true
---

Recién nos acercamos a la mitad de mayo, pero los acontecimientos políticos y económicos ya ha dado suficiente de qué hablar en Twitter. Los primeros días de mayo nos colmamos de entretenimiento con el hashtag #tinocoStyle. Sin embargo, en los últimos días la atención se concentró en las medidas presupuestarias anunciadas por el gobierno. En esta publicación usaremos ciencia de datos para analizar el hashtag #NoAlRecorte.

Empezamos descargando los tweets que contengan los hashtags #NoAlRecorte o #NoAlRecortePresupuestario a través de un API que nos ofrece Twitter para descargar gratuitamente tuits. En total, recolectamos 17924 tuits, excluyendo aquellos que fueron retuiteados para evitar duplicados.

Contamos el número de palabras y hashtags utilizados y elaboramos la siguiente nube de palabras. Como podemos observar, los usuarios se concentraron en rechazar en contra del recorte presupuestario a la educación, principalmente la superior. #QuelaUnopaguelaCRISIS, #HuelgaEducativaEc y #IESsinRecorte fueron, entre otros, los hashtags que acompañaban la protesta en Twitter.

```{r, eval=FALSE, include=FALSE}

# Este es el código que descarga los twits
library(rtweet)

recorte_1 <- search_tweets("#NoAlRecorte", n = 12000, include_rts = FALSE)
recorte_2 <- search_tweets("#NoAlRecortePresupuestario", n = 12000, include_rts = FALSE)
recorte <- rbind(recorte_1, recorte_2)
recorte <- unique(recorte)
```

```{r, echo=FALSE, warning=FALSE, comment=FALSE, message=FALSE}
library(tidyverse)
library(stringr)
library(tm)
library(syuzhet)
library(wordcloud)
library(qdap)
library(hrbrthemes)
library(RColorBrewer)
library(gridExtra)

recorte_url <- "https://github.com/aquijanoruiz/elquantificador_posts/raw/master/economia/2020-05-09-la-inconformidad-por-el-recorte-presupuestario-se-destapo-en-twitter/recorte.rds"

recorte <- readRDS(url(recorte_url))

# Una función para eliminar el ruido en el texto  ----------

clean_text <- function(text) {
  new_text <- tolower(text)
  new_text <- str_replace_all(new_text,"http\\S*", "") # Elimina urls
  new_text <- str_replace_all(new_text,"@\\S*", "") # Elimina los @
  new_text <- str_replace_all(new_text,"[[:punct:]]", " ") # Elimina los signos de puntuación
  new_text <- str_replace_all(new_text,"[[:digit:]]", " ") # Elimina los números
  new_text <- str_replace_all(new_text,"\\s[a-z]{1}\\s", " ") # Elimina las palabras de un solo caracter
  new_text <- str_replace_all(new_text,"\\s[a-z]{1}\\s", " ") # Elimina las palabras de un solo caracter (otra vez)
  new_text <- str_replace_all(new_text,"[\\s]+", " ") # Elimina los espacios
  return(new_text)
}

## --------------------------------------------------------------------------- ##
## ----------------------- Hacemos una nube de palabras ---------------------- ##
## --------------------------------------------------------------------------- ##

texto <- recorte$text
texto_limpio <- clean_text(texto)

texto_corpus <-  texto_limpio %>% 
  VectorSource() %>% 
  Corpus() 

texto_corpus <- tm_map(texto_corpus, removeWords, stopwords("spanish"))

# Eliminamos más palabras innecesarias
custom_stopwords <- c("noalrecorte", "noalrecortepresupuestario", "si", "ser", "ahora", "hoy", 
                      "quieren", "solo", "debe", "puede", "quiere", "así", "deben", "siempre",
                      "hacer")

texto_corpus <- tm_map(texto_corpus, removeWords, custom_stopwords)

wordcloud(texto_corpus, colors = brewer.pal(6, "Dark2"), max.words = 60,
          scale = c(3.8,0.7), random.order = FALSE)
```

¿Quiénes fueron los más retuiteados? Quisimos ver qué cuentas fueron el foco de la protesta. Sumamos el número de retuits por cada cuenta y hallamos que las cuentas más retuiteadas fueron las de la Espol, la Universidad Central y la Universidad de Cuenca.  También varios docentes universitarios generaron muchos retuits como la recotra de la Espol Cecilia Paredes, el profesor de la PUCE Santiago Ron y la profesora de la UDA Caroline Ávila. Los más mencionados fueron el presidente Lenín Moreno y el ministro de finanzas Richard Martínez.

```{r, echo=FALSE, warning=FALSE, comment=FALSE, message=FALSE}
## --------------------------------------------------------------------------- ##
## --------------------------- Los más retuiteados --------------------------- ##
## --------------------------------------------------------------------------- ##

plot_1 <- recorte %>% group_by(screen_name) %>% 
  summarise(total_retweet_count = sum(retweet_count)) %>% 
  arrange(desc(total_retweet_count)) %>% slice(1:10) %>% 
  ggplot(aes(x = reorder(screen_name, total_retweet_count), y = total_retweet_count, fill = screen_name)) + 
  geom_bar( stat = "identity") + coord_flip() + 
  labs(title = "Los más retuiteados", x = "", y = "") + 
  theme_ipsum() + theme(legend.position = "none") + scale_fill_brewer(palette = "Spectral") +
  theme(axis.text.y = element_text(size = 9), axis.text.x = element_text(size = 9), plot.title = element_text(size=16))
  
## --------------------------------------------------------------------------- ##
## --------------------------- Los más mencionados --------------------------- ##
## --------------------------------------------------------------------------- ##

mencionados <- unlist(recorte$mentions_screen_name)
mencionados <- as.data.frame(table(mencionados))

plot_2 <- mencionados %>% arrange(desc(Freq)) %>% slice(1:10) %>% 
  ggplot(aes(x = reorder(mencionados, Freq), y = Freq, fill = mencionados)) + 
  geom_bar( stat = "identity") + coord_flip() + 
  labs(title = "Los más mencionados", x = "", y = "") + 
  theme_ipsum() + theme(legend.position = "none") + scale_fill_brewer(palette = "Spectral") +
  theme(axis.text.y = element_text(size = 9), axis.text.x = element_text(size = 9), plot.title = element_text(size=16))

grid.arrange(plot_1, plot_2, ncol = 2)
```

Finalmente, el tuit más retuiteado fue el de la rectora de la Espol Cecilia Paredes. 

<center><blockquote class="twitter-tweet"><p lang="es" dir="ltr">Por una educación pública de calidad; la que ofrece soluciones a los problemas de los sectores sociales y productivos; la que ofrece oportunidades a los brillantes jóvenes con recursos limitados <a href="https://twitter.com/fepolespol?ref_src=twsrc%5Etfw">@fepolespol</a> <a href="https://twitter.com/hashtag/YoSoyESPOL?src=hash&amp;ref_src=twsrc%5Etfw">#YoSoyESPOL</a> <a href="https://twitter.com/hashtag/QuelaUNoPagueLaCrisis?src=hash&amp;ref_src=twsrc%5Etfw">#QuelaUNoPagueLaCrisis</a> <a href="https://twitter.com/hashtag/NoAlRecortePresupuestario?src=hash&amp;ref_src=twsrc%5Etfw">#NoAlRecortePresupuestario</a> <a href="https://t.co/1SUf54a0Bm">pic.twitter.com/1SUf54a0Bm</a></p>&mdash; Cecilia Paredes Verduga (@cparedesverduga) <a href="https://twitter.com/cparedesverduga/status/1257855359722688513?ref_src=twsrc%5Etfw">May 6, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></center>

Si deseas reproducir el código que genera este análisis, simplemente visita nuestra cuenta en [Github](https://github.com/aquijanoruiz/elquantificador_posts/blob/master/economia/2020-05-09-la-inconformidad-por-el-recorte-presupuestario-se-destapo-en-twitter/2020-05-09-la-inconformidad-por-el-recorte-presupuestario-se-destapo-en-twitter.Rmd). En El Quantificador nos aseguramos que todos nuestros resultados sean reproducibles.